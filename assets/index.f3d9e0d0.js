var ee=Object.defineProperty;var te=(a,e,t)=>e in a?ee(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var y=(a,e,t)=>(te(a,typeof e!="symbol"?e+"":e,t),t),B=(a,e,t)=>{if(!e.has(a))throw TypeError("Cannot "+t)};var K=(a,e,t)=>(B(a,e,"read from private field"),t?t.call(a):e.get(a)),T=(a,e,t)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,t)},N=(a,e,t,n)=>(B(a,e,"write to private field"),n?n.call(a,t):e.set(a,t),t);var I=(a,e,t)=>(B(a,e,"access private method"),t);import{w as H,r as b,a as ae,d as D,o as m,c as g,b as s,F as W,e as C,n as U,t as f,u as o,f as F,g as R,h as M,i as Y,v as q,j as G,k as se}from"./vendor.89525b04.js";const oe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const v of d.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&n(v)}).observe(document,{childList:!0,subtree:!0});function t(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerpolicy&&(d.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?d.credentials="include":r.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(r){if(r.ep)return;r.ep=!0;const d=t(r);fetch(r.href,d)}};oe();const k={easy:"easy",medium:"medium",hard:"hard"};class O{static random(e){return this.texts[e][Math.floor(Math.random()*this.texts[e].length)]}}y(O,"texts",{[k.easy]:["It probably seemed trivial to most people, but it mattered to Tracey. She wasn't sure why it mattered so much to her, but she understood deep within her being that it mattered to her. So for the 365th day in a row, Tracey sat down to eat pancakes for breakfast.","Love isn't always a ray of sunshine. That's what the older girls kept telling her when she said she had found the perfect man. She had thought this was simply bitter talk on their part since they had been unable to find true love like hers. But now she had to face the fact that they may have been right. Love may not always be a ray of sunshine. That is unless they were referring to how the sun can burn.","The rain was coming. Everyone thought this would be a good thing. It hadn't rained in months and the earth was dry as a bone. It wasn't a surprise that everyone thought a good rain was what was needed, but they never expected how much rain would actually arrive.","Sometimes it just doesn't make sense. The man walking down the street in a banana suit. The llama standing in the middle of the road. The fairies dancing in front of the car window. The fact that all of this was actually happening and wasn't a dream.","He knew what he was supposed to do. That had been apparent from the beginning. That was what made the choice so difficult. What he was supposed to do and what he would do were not the same. This would have been fine if he were willing to face the inevitable consequences, but he wasn't."],[k.medium]:["After hunting for several hours, we finally saw a large seal sunning itself on a flat rock. I took one of the wooden clubs while Larry took the longer one. We slowly snuck up behind the seal until we were close enough to club it over its head. The seal slumped over and died. This seal would help us survive. We could eat the meat and fat. The fat could be burned in a shell for light and the fur could be used to make a blanket. We declared our first day of hunting a great success. She needed glasses. It wasn't that she couldn't see without them, but what she could see with them. When she wore glasses, her eyes focused so deeply that she could see not only the physical but also beyond. It was like a superpower. But she needed glasses.","The shades were closed keeping the room dark. Peter knew that he should open them and let in the sunlight so he could begin the day, but he didn't have the energy or willpower. Nothing had gone as expected the day before and he no longer wanted to spend the energy to begin a new day. He stared at the shades wondering if there was a way to disappear from the reality of the world for the rest of the day. There was a leak in the boat. Nobody had yet noticed it, and nobody would for the next couple of hours. This was a problem since the boat was heading out to sea and while the leak was quite small at the moment, it would be much larger when it was ultimately discovered. John had planned it exactly this way.",`You know that tingly feeling you get on the back of your neck sometimes? I just got that feeling when talking with her. You know I don't believe in sixth senses, but there is something not right with her. I don't know how I know, but I just do. "Explain to me again why I shouldn't cheat?" he asked. "All the others do and nobody ever gets punished for doing so. I should go about being happy losing to cheaters because I know that I don't? That's what you're telling me?"`,"There are only three ways to make this work. The first is to let me take care of everything. The second is for you to take care of everything. The third is to split everything 50 / 50. I think the last option is the most preferable, but I'm certain it'll also mean the end of our marriage. Do you really listen when you are talking with someone? I have a friend who listens in an unforgiving way. She actually takes every word you say as being something important and when you have a friend that listens like that, words take on a whole new meaning.","He wondered if he should disclose the truth to his friends. It would be a risky move. Yes, the truth would make things a lot easier if they all stayed on the same page, but the truth might fracture the group leaving everything in even more of a mess than it was not telling the truth. It was time to decide which way to go. Waiting and watching. It was all she had done for the past weeks. When you\u2019re locked in a room with nothing but food and drink, that\u2019s about all you can do anyway. She watched as birds flew past the window bolted shut. She couldn\u2019t reach it if she wanted too, with that hole in the floor. She thought she could escape through it but three stories is a bit far down."],[k.hard]:["Sarah watched the whirlpool mesmerized. She couldn't take her eyes off the water swirling around and around. She stuck in small twigs and leaves to watch the whirlpool catch them and then suck them down. It bothered her more than a little bit that this could also be used as a metaphor for her life. It had been a late night. To be more correct, it had been an early morning. It was now 3:00 AM and George was just getting home. He wasn't sure if it had been worth it. He was supposed to have been finished by 10:00 PM, but his boss had implored him to stay and help when it was clear they weren't going to meet the 10:00 PM target time. So, he had stayed an extra 5 hours and lost a good night's sleep for something he didn't really believe in, but he did anyway because he was afraid if he refused he might lose his job. Sometimes it's simply better to ignore the haters. That's the lesson that Tom's dad had been trying to teach him, but Tom still couldn't let it go. He latched onto them and their hate and couldn't let it go, but he also realized that this wasn't healthy. That's when he came up with his devious plan.","One foot in front of the other, One more step, and then one more. Jack's only thoughts were to keep moving no matter how much his body screamed to stop and rest. He's lost almost all his energy and his entire body ached beyond belief, but he forced himself to take another step. Then another. And then one more. She was in a hurry. Not the standard hurry when you're in a rush to get someplace, but a frantic hurry. The type of hurry where a few seconds could mean life or death. She raced down the road ignoring speed limits and weaving between cars. She was only a few minutes away when traffic came to a dead standstill on the road ahead. Sometimes it just doesn't make sense. The man walking down the street in a banana suit. The llama standing in the middle of the road. The fairies dancing in front of the car window. The fact that all of this was actually happening and wasn't a dream.",`There was a time when he would have embraced the change that was coming. In his youth, he sought adventure and the unknown, but that had been years ago. He wished he could go back and learn to find the excitement that came with change but it was useless. That curiosity had long left him to where he had come to loathe anything that put him out of his comfort zone. She sat deep in thought. The next word that came out o her mouth would likely be the most important word of her life. It had to be exact with no possibility of being misinterpreted. She was ready. She looked deeply into his eyes and said, "Octopus." Frank knew there was a correct time and place to reveal his secret and this wasn't it. The issue was that the secret might be revealed despite his best attempt to keep it from coming out. At this point, it was out of his control and completely dependant on those around him who also knew the secret. They wouldn't purposely reveal it, or at least he believed that, but they could easily inadvertently expose it. It was going to be a long hour as he nervously eyed everyone around the table hoping they would keep their mouths shut.`,"It had been a late night. To be more correct, it had been an early morning. It was now 3:00 AM and George was just getting home. He wasn't sure if it had been worth it. He was supposed to have been finished by 10:00 PM, but his boss had implored him to stay and help when it was clear they weren't going to meet the 10:00 PM target time. So, he had stayed an extra 5 hours and lost a good night's sleep for something he didn't really believe in, but he did anyway because he was afraid if he refused he might lose his job. The alarm went off at exactly 6:00 AM as it had every morning for the past five years. Barbara began her morning and was ready to eat breakfast by 7:00 AM. The day appeared to be as normal as any other, but that was about to change. In fact, it was going to change at exactly 7:23 AM. Should he write it down? That was the question running through his mind. He couldn't believe what had just happened and he knew nobody else would believe him as well. Even if he documented what had happened by writing it down, he still didn't believe anyone would still believe it. So the question remained. Was it be worth it to actually write it down?",'Samantha wanted to be famous. The problem was that she had never considered all the downsides to actually being famous. Had she taken the time to objectively consider these downsides, she would have never agreed to publically sing that first song. It was difficult for him to admit he was wrong. He had been so certain that he was correct and the deeply held belief could never be shaken. Yet the proof that he had been incorrect stood right before his eyes. "See daddy, I told you that they are real!" his daughter excitedly proclaimed. What was beyond the bend in the stream was unknown. Both were curious, but only one was brave enough to want to explore. That was the problem. There was always one that let fear rule her life.']});class A{static setDifficulty(e){localStorage.setItem("last_difficulty",e.toString())}static getDifficulty(){const e=localStorage.getItem("last_timelimit");return e&&Object.keys(k).includes(e)?k[e]:null}static setTimeLimit(e){localStorage.setItem("last_timelimit",e.toString())}static getTimeLimit(){var t;const e=parseInt((t=localStorage.getItem("last_timelimit"))!=null?t:"");return!isNaN(e)&&isFinite(e)?e:null}}class ${constructor(e,t){this.id=e,this.text=t}static new(e){return new $(Date.now().toString(),e)}}const z=[0,.5,1,2,3,4,5];class L{static getName(e){return this.names[e]}static getMs(e){return e*60*1e3}static getSecs(e){return e*60}static get default(){return z[2]}}y(L,"names",z.reduce((e,t)=>{let n;switch(t){case 0:n="No limit";break;default:n=`${t} minutes`;break}return e[t]=n,e},{}));var _;(function(a){a[a.unreceived=0]="unreceived",a[a.current=1]="current",a[a.correct=2]="correct",a[a.incorrect=3]="incorrect"})(_||(_={}));var c;(function(a){a[a.unstarted=0]="unstarted",a[a.started=1]="started",a[a.ended=2]="ended"})(c||(c={}));var X,x,E,J,j,re,P,ie;class ne{constructor(e){T(this,E);T(this,j);T(this,P);y(this,"timeLimit",b((X=A.getTimeLimit())!=null?X:L.default));y(this,"inputStatus",b(0));y(this,"receivedWords",ae([]));y(this,"expectedWords");y(this,"expectedWordIndex",b(0));y(this,"results",b(null));y(this,"elapsedSeconds",b(0));T(this,x,void 0);this.state=e,this.expectedWords=e.text.split(" "),H(()=>this.timeLimit.value,()=>void A.setTimeLimit(this.timeLimit.value))}setInputStatus(e){switch(this.inputStatus.value=e,e){case 1:I(this,j,re).call(this);break;case 2:I(this,P,ie).call(this);break}}setExpectedIndex(e){e>=0&&(e<this.expectedWordIndex.value&&(this.receivedWords.length=e+1),this.expectedWordIndex.value=e)}expectedWordAt(e){var t;return(t=this.expectedWords[e])!=null?t:null}receivedWordAt(e){var t;return(t=this.receivedWords[e])!=null?t:null}addReceivedWord(e,t){this.receivedWords[e]=t}getWordStatus(e,t){return e===t?1:e<t?0:this.receivedWordAt(t)===this.expectedWordAt(t)?2:3}}x=new WeakMap,E=new WeakSet,J=function(){this.elapsedSeconds.value=this.elapsedSeconds.value+1},j=new WeakSet,re=function(){I(this,E,J).call(this),N(this,x,setInterval(()=>{I(this,E,J).call(this),this.timeLimit.value>0&&this.elapsedSeconds.value>=L.getSecs(this.timeLimit.value)&&this.setInputStatus(2)},1e3))},P=new WeakSet,ie=function(){clearInterval(K(this,x)),N(this,x,void 0),this.results.value=V.calculate(this)};class V{constructor(e){this._=e}get tookMinutes(){return this._.timePlayedSecs/60}get wpm(){return((this._.words.correct+this._.words.incorrect)/this.tookMinutes).toFixed(1)}get effectiveWpm(){return(this._.words.correct/this.tookMinutes).toFixed(1)}get totalWords(){return this._.words.correct+this._.words.incorrect+this._.words.remaining}static calculate(e){const t={correct:0,incorrect:0,remaining:0};return e.expectedWords.forEach((n,r)=>{switch(e.getWordStatus(e.expectedWordIndex.value,r)){case 2:t.correct++;break;case 3:t.incorrect++;break;default:t.remaining++;break}}),new V({words:t,timeLimit:e.timeLimit.value,timePlayedSecs:e.elapsedSeconds.value})}}class Q{static prettySeconds(e){return`${Math.floor(e/60%60)}:${Math.floor(e%60).toString().padStart(2,"0")}`}}const he={class:"min-h-[8rem] max-h-[calc(100vh-11rem-4rem)] overflow-x-hidden overflow-y-auto flex flex-row flex-wrap"},le=["id"],de={class:"mt-[2rem] h-[4rem]"},ce=["placeholder"],ue=D({props:{controller:null},setup(a){const{controller:e}=a;let t="";const n=i=>{t=i.currentTarget.value},r=i=>{var w;const h=i.currentTarget,u=i,p=h.value;if(!u.key)return;let l=!1;switch(u.key){case"Backspace":e.addReceivedWord(e.expectedWordIndex.value,p),!p.length&&!t.length&&(e.setExpectedIndex(e.expectedWordIndex.value-1),h.value=(w=e.receivedWordAt(e.expectedWordIndex.value))!=null?w:"");break;case"Enter":h.value=`${h.value} `,l=!0;break}l&&d(i)},d=i=>{e.inputStatus.value!==c.started&&e.setInputStatus(c.started);const h=i.currentTarget;let u=h.value;u.charAt(u.length-1)==" "&&(u.split(" ").map(l=>l.trim()).filter(l=>l.length).forEach((l,w)=>{e.addReceivedWord(e.expectedWordIndex.value+w,l)}),e.setExpectedIndex(e.receivedWords.length),u="",e.receivedWords.length===e.expectedWords.length&&e.setInputStatus(c.ended)),h.value=u},v=i=>{const h=[];switch(e.getWordStatus(e.expectedWordIndex.value,i)){case _.unreceived:break;case _.correct:h.push("text-gray-400");break;case _.current:h.push("text-amber-500");break;case _.incorrect:h.push("text-red-500");break}return h},S={wordElement:{prefix:(Math.random()+1).toString(36).substring(7),get:i=>`${S.wordElement.prefix}-${i}`}};return H(()=>e.expectedWordIndex.value,()=>{var p;const i=document.getElementById(S.wordElement.get(e.expectedWordIndex.value)),h=(p=i==null?void 0:i.parentElement)==null?void 0:p.getBoundingClientRect(),u=i==null?void 0:i.getBoundingClientRect();if(h&&u){const l=u.top-h.top,w=0,Z=h.bottom-h.height;(l<w||l>Z)&&i.scrollIntoView()}}),(i,h)=>{var u;return m(),g("div",null,[s("div",he,[(m(!0),g(W,null,C(a.controller.expectedWords,(p,l)=>(m(),g("p",{class:U([...v(l),"mr-3"]),id:S.wordElement.get(l)},f(p),11,le))),256))]),s("div",de,[s("input",{type:"text",class:"form-border px-4 py-3 w-full h-[3rem] bg-gray-700 rounded-lg resize-none",onKeydown:n,onKeyup:r,onInput:d,placeholder:(u=a.controller.expectedWordAt(a.controller.expectedWordIndex.value))!=null?u:""},null,40,ce)])])}}});const me={class:"pt-10 min-h-[22rem] flex flex-col justify-around items-center"},we={class:"r-wrapper"},pe=s("p",{class:"r-title"},"WPM",-1),ge={class:"r-value"},fe=s("p",{class:"r-title"},"Effective WPM",-1),ye={class:"r-value"},ve=s("hr",{class:"r-hr"},null,-1),be={class:"r-wrapper"},ke=s("p",{class:"r-title"},"Correct Words",-1),_e={class:"r-value"},xe=s("p",{class:"r-title"},"Wrong Words",-1),Se={class:"r-value"},Te=s("p",{class:"r-title"},"Words Typed",-1),Ie={class:"r-value"},We=s("p",{class:"r-title"},"Total Words",-1),Le={class:"r-value"},Ee=s("hr",{class:"r-hr"},null,-1),Me={class:"r-wrapper"},Ae=s("p",{class:"r-title"},"Time Played",-1),$e={class:"r-value"},je=s("p",{class:"r-title"},"Max. Time limit",-1),Pe={class:"r-value"},Be=s("span",{class:"r-small"},"mins.",-1),Ne=F("\u267E\uFE0F"),He=D({props:{controller:null},setup(a){const{controller:e}=a,t=e.results.value;return(n,r)=>(m(),g("div",me,[s("div",we,[s("div",null,[pe,s("p",ge,f(o(t).wpm),1)]),s("div",null,[fe,s("p",ye,f(o(t).effectiveWpm),1)])]),ve,s("div",be,[s("div",null,[ke,s("p",_e,f(o(t)._.words.correct),1)]),s("div",null,[xe,s("p",Se,f(o(t)._.words.incorrect),1)]),s("div",null,[Te,s("p",Ie,f(o(t)._.words.correct+o(t)._.words.incorrect),1)]),s("div",null,[We,s("p",Le,f(o(t).totalWords),1)])]),Ee,s("div",Me,[s("div",null,[Ae,s("p",$e,f(o(Q).prettySeconds(o(t)._.timePlayedSecs)),1)]),s("div",null,[je,s("p",Pe,[o(t)._.timeLimit!==0?(m(),g(W,{key:0},[F(f(o(t)._.timeLimit),1),Be],64)):(m(),g(W,{key:1},[Ne],64))])])])]))}}),De={class:"px-8 md:px-28 pt-[2rem] pb-[3rem]"},Ce={class:"flex flex-col md:flex-row justify-around items-center gap-6"},Fe=s("div",{class:"font-bold text-2xl h-[2rem]"},[F(" Type"),s("span",{class:"text-amber-500"},"Dart")],-1),Re={class:"flex justify-center items-center gap-2 md:h-[2rem] flex-wrap"},Oe=["value"],ze=["value"],Ve={class:"mt-[2rem]"},Ke=D({setup(a){var u;const e=b((u=A.getDifficulty())!=null?u:k.easy),t=b($.new(O.random(e.value))),n=R(()=>new ne(t.value)),r=p=>{t.value=$.new(p)},d=()=>{r(O.random(e.value))},v=p=>{e.value=p,d()},S=R(()=>{switch(n.value.inputStatus.value){case c.unstarted:return"Start!";case c.started:return"Stop!";case c.ended:return"Reset!"}}),i=()=>{switch(n.value.inputStatus.value){case c.unstarted:n.value.setInputStatus(c.started);break;case c.started:n.value.setInputStatus(c.ended);break;case c.ended:d();break}},h=R(()=>L.getSecs(n.value.timeLimit.value)-n.value.elapsedSeconds.value);return H(()=>e.value,(p,l)=>{p!==l&&(v(e.value),A.setDifficulty(e.value))}),(p,l)=>(m(),g("div",De,[s("nav",Ce,[Fe,s("div",Re,[o(n).inputStatus.value===o(c).started?(m(),g("p",{key:0,class:U([o(n).timeLimit.value!==0&&o(h)<10&&"text-red-500","mr-2"])},f(o(n).timeLimit.value!==0?o(Q).prettySeconds(o(h)):"\u267E\uFE0F"),3)):M("",!0),o(n).inputStatus.value!==o(c).started?Y((m(),g("select",{key:1,class:"form-border bg-gray-700 rounded capitalize","onUpdate:modelValue":l[0]||(l[0]=w=>e.value=w)},[(m(!0),g(W,null,C(o(k),w=>(m(),g("option",{class:"capitalize",value:w},f(w),9,Oe))),256))],512)),[[q,e.value]]):M("",!0),o(n).inputStatus.value===o(c).unstarted?(m(),g("button",{key:2,class:"rounded px-2 py-[1px] bg-amber-500 hover:bg-amber-600 transition duration-200",onClick:d}," Refresh ")):M("",!0),o(n).inputStatus.value!==o(c).started?Y((m(),g("select",{key:3,class:"form-border bg-gray-700 rounded","onUpdate:modelValue":l[1]||(l[1]=w=>o(n).timeLimit.value=w)},[(m(!0),g(W,null,C(o(z),w=>(m(),g("option",{value:w},f(o(L).getName(w)),9,ze))),256))],512)),[[q,o(n).timeLimit.value]]):M("",!0),s("button",{class:"rounded px-2 py-[1px] bg-amber-500 hover:bg-amber-600 transition duration-200",onClick:i},f(o(S)),1)])]),s("main",Ve,[o(n).inputStatus.value===o(c).ended&&o(n).results.value!==null?(m(),G(He,{key:0,controller:o(n)},null,8,["controller"])):(m(),G(ue,{key:o(n).state.id,controller:o(n)},null,8,["controller"]))])]))}});se(Ke).mount("#app");
